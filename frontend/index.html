<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Exchange</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- TradingView Lightweight Charts -->
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1>CRYPTO<span>EX</span></h1>
                </div>
                <div class="user-info">
                    <div class="balance">
                        <span class="balance-label">Баланс</span>
                        <span class="balance-amount" id="balance">0.00</span>
                        <span class="balance-currency">USDT</span>
                    </div>
                    <button class="menu-btn" id="menuBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12h18M3 6h18M3 18h18"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard -->
            <section class="dashboard" id="dashboard">
                <div class="quick-actions">
                    <button class="action-btn" id="depositBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14M5 12h14"></path>
                        </svg>
                        <span>Пополнить</span>
                    </button>
                    <button class="action-btn" id="withdrawBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 19V5M5 12h14"></path>
                        </svg>
                        <span>Вывести</span>
                    </button>
                    <button class="action-btn" id="historyBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="1 4 1 10 7 10"></polyline>
                            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                        </svg>
                        <span>История</span>
                    </button>
                    <button class="action-btn" id="profileBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span>Профиль</span>
                    </button>
                </div>

                <div class="assets">
                    <h3>Мои активы</h3>
                    <div class="assets-list" id="assetsList">
                        <!-- Assets will be dynamically populated -->
                    </div>
                </div>

                <div class="recent-trades">
                    <h3>Недавние сделки</h3>
                    <div class="trades-list" id="tradesList">
                        <!-- Recent trades will be dynamically populated -->
                    </div>
                </div>
            </section>

            <!-- Trading View -->
            <section class="trading-view" id="tradingView">
                <div class="trade-header">
                    <select class="pair-select" id="pairSelect">
                        <option value="BTC/USDT">BTC/USDT</option>
                        <option value="ETH/USDT">ETH/USDT</option>
                        <option value="TON/USDT">TON/USDT</option>
                    </select>
                    <div class="price-info">
                        <span class="current-price" id="currentPrice">0.00</span>
                        <span class="price-change" id="priceChange">+0.00%</span>
                    </div>
                </div>

                <!-- TradingView Chart -->
                <div class="trading-chart">
                    <div id="tradingChart"></div>
                </div>

                <!-- Chart Controls -->
                <div class="chart-controls">
                    <div class="timeframe-selector">
                        <button class="timeframe-btn active" data-timeframe="1m">1м</button>
                        <button class="timeframe-btn" data-timeframe="5m">5м</button>
                        <button class="timeframe-btn" data-timeframe="15m">15м</button>
                        <button class="timeframe-btn" data-timeframe="1h">1ч</button>
                        <button class="timeframe-btn" data-timeframe="4h">4ч</button>
                        <button class="timeframe-btn" data-timeframe="1d">1д</button>
                        <button class="timeframe-btn" data-timeframe="1w">1н</button>
                        <button class="timeframe-btn" data-timeframe="1M">1м</button>
                    </div>
                    <div class="chart-type-selector">
                        <button class="chart-type-btn active" data-type="candles">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                <line x1="3" y1="9" x2="21" y2="9"></line>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                            </svg>
                        </button>
                        <button class="chart-type-btn" data-type="bars">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="4" y="5" width="4" height="16"></rect>
                                <rect x="10" y="9" width="4" height="12"></rect>
                                <rect x="16" y="13" width="4" height="8"></rect>
                            </svg>
                        </button>
                        <button class="chart-type-btn" data-type="area">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 18h18v-6a9 9 0 0 0-18 0z"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="indicators-selector">
                        <button class="indicator-btn" id="addIndicatorBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 5v14M5 12h14"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="order-book">
                    <div class="order-book-header">
                        <h3>Ордербук</h3>
                    </div>
                    <div class="order-book-content" id="orderBookContent">
                        <!-- Order book will be dynamically populated -->
                    </div>
                </div>

                <div class="trade-form">
                    <div class="trade-form-tabs">
                        <button class="tab-btn active" data-tab="buy">Купить</button>
                        <button class="tab-btn" data-tab="sell">Продать</button>
                    </div>
                    <form class="trade-form-content" id="tradeForm">
                        <div class="form-group">
                            <label>Сумма</label>
                            <div class="input-group">
                                <input type="number" id="tradeAmount" placeholder="0.00" step="0.0001" min="0">
                                <span class="input-currency">BTC</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Цена</label>
                            <div class="input-group">
                                <input type="number" id="tradePrice" placeholder="0.00" step="0.01" min="0">
                                <span class="input-currency">USDT</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Всего</label>
                            <div class="input-group">
                                <input type="number" id="tradeTotal" placeholder="0.00" step="0.01" min="0" disabled>
                                <span class="input-currency">USDT</span>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary" id="tradeBtn">Купить BTC</button>
                    </form>
                </div>
            </section>

            <!-- Deposit Modal -->
            <div class="modal" id="depositModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Пополнить баланс</h2>
                        <button class="close-btn" id="closeDepositModal">×</button>
                    </div>
                    <form class="deposit-form" id="depositForm">
                        <div class="form-group">
                            <label>Валюта</label>
                            <select class="asset-select" id="depositAsset">
                                <option value="USDT">USDT</option>
                                <option value="BTC">BTC</option>
                                <option value="ETH">ETH</option>
                                <option value="TON">TON</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Сумма</label>
                            <div class="input-group">
                                <input type="number" id="depositAmount" placeholder="0.00" step="0.01" min="0">
                                <span class="input-currency" id="depositCurrency">USDT</span>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Создать инвойс</button>
                    </form>
                </div>
            </div>

            <!-- Withdraw Modal -->
            <div class="modal" id="withdrawModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Вывести средства</h2>
                        <button class="close-btn" id="closeWithdrawModal">×</button>
                    </div>
                    <form class="withdraw-form" id="withdrawForm">
                        <div class="form-group">
                            <label>Валюта</label>
                            <select class="asset-select" id="withdrawAsset">
                                <option value="USDT">USDT</option>
                                <option value="BTC">BTC</option>
                                <option value="ETH">ETH</option>
                                <option value="TON">TON</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Сумма</label>
                            <div class="input-group">
                                <input type="number" id="withdrawAmount" placeholder="0.00" step="0.01" min="0">
                                <span class="input-currency" id="withdrawCurrency">USDT</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Банковская карта</label>
                            <input type="text" id="cardNumber" placeholder="0000 0000 0000 0000">
                        </div>
                        <div class="form-group">
                            <label>Имя на карте</label>
                            <input type="text" id="cardHolder" placeholder="Иванов Иван Иванович">
                        </div>
                        <div class="form-group">
                            <label>Номер телефона</label>
                            <input type="tel" id="phoneNumber" placeholder="+7 (XXX) XXX-XX-XX">
                        </div>
                        <button type="submit" class="btn-primary">Создать заявку</button>
                    </form>
                </div>
            </div>

            <!-- History Modal -->
            <div class="modal" id="historyModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>История операций</h2>
                        <button class="close-btn" id="closeHistoryModal">×</button>
                    </div>
                    <div class="history-filters">
                        <select class="filter-select" id="historyType">
                            <option value="">Все операции</option>
                            <option value="deposit">Пополнения</option>
                            <option value="withdraw">Выводы</option>
                            <option value="trade">Торговля</option>
                        </select>
                        <select class="filter-select" id="historyStatus">
                            <option value="">Все статусы</option>
                            <option value="pending">Ожидает</option>
                            <option value="completed">Завершено</option>
                            <option value="failed">Отклонено</option>
                        </select>
                    </div>
                    <div class="history-list" id="historyList">
                        <!-- History will be dynamically populated -->
                    </div>
                </div>
            </div>

            <!-- Profile Modal -->
            <div class="modal" id="profileModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Профиль</h2>
                        <button class="close-btn" id="closeProfileModal">×</button>
                    </div>
                    <div class="profile-info">
                        <div class="profile-item">
                            <label>Telegram ID</label>
                            <span id="profileTelegramId">-</span>
                        </div>
                        <div class="profile-item">
                            <label>Имя</label>
                            <span id="profileName">-</span>
                        </div>
                        <div class="profile-item">
                            <label>Юзернейм</label>
                            <span id="profileUsername">-</span>
                        </div>
                        <div class="profile-item">
                            <label>Email</label>
                            <span id="profileEmail">-</span>
                        </div>
                        <div class="profile-item">
                            <label>Телефон</label>
                            <span id="profilePhone">-</span>
                        </div>
                        <div class="profile-item">
                            <label>Статус аккаунта</label>
                            <span id="profileStatus">-</span>
                        </div>
                        <div class="profile-item">
                            <label>Уровень верификации</label>
                            <span id="profileVerification">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>